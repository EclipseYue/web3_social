# Web3 ç¤¾äº¤èŠå¤©åº”ç”¨

ä¸€ä¸ªåŸºäº Python Flask çš„ Web3 ç¤¾äº¤èŠå¤©å¹³å°ï¼Œé›†æˆå®æ—¶èŠå¤©ã€ç¤¾äº¤äº’åŠ¨å’Œå†…å®¹åˆ†äº«åŠŸèƒ½äºä¸€ä½“çš„ç°ä»£åŒ– Web åº”ç”¨ã€‚

## é¡¹ç›®ä»‹ç»

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªç»“åˆ Web3 ç†å¿µçš„ç¤¾äº¤èŠå¤©åº”ç”¨ï¼Œè‡´åŠ›äºæä¾›å®‰å…¨ã€é«˜æ•ˆçš„ç¤¾äº¤ä½“éªŒï¼š

- ğŸ’¬ å®æ—¶èŠå¤©ç³»ç»Ÿï¼šåŸºäº WebSocket çš„å³æ—¶é€šè®¯
- ğŸ‘¥ ç”¨æˆ·ç¤¾äº¤ç³»ç»Ÿï¼šå¥½å‹å…³ç³»ã€ç”¨æˆ·å…³æ³¨
- ğŸ“ å†…å®¹åˆ†äº«å¹³å°ï¼šæ”¯æŒå‘å¸ƒæ–‡ç« ã€å›¾ç‰‡ç­‰å†…å®¹
- ğŸ¯ ä¸ªæ€§åŒ–æ¨èï¼šåŸºäºç”¨æˆ·å…´è¶£çš„å†…å®¹æ¨è
- ğŸ”’ å®‰å…¨æ€§ä¿éšœï¼šæ•°æ®åŠ å¯†ã€ç”¨æˆ·è®¤è¯

## æŠ€æœ¯æ ˆ

### åç«¯
- Python 3.13
- Flask æ¡†æ¶
- Flask-SocketIOï¼šWebSocket æ”¯æŒ
- SQLiteï¼šæ•°æ®æŒä¹…åŒ–
- Redisï¼šç¼“å­˜å’Œä¼šè¯ç®¡ç†
- JWTï¼šç”¨æˆ·è®¤è¯

### å‰ç«¯
- HTML5/CSS3
- JavaScript (åŸç”Ÿ)
- WebSocket API
- CSS Grid/Flexbox å¸ƒå±€

## ç¯å¢ƒè¦æ±‚

- Python >= 3.8
- Redis >= 6.0
- SQLite3
- ç°ä»£æµè§ˆå™¨ï¼ˆæ”¯æŒ WebSocketï¼‰

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone [é¡¹ç›®åœ°å€]
cd web3-social-chat
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. ç¯å¢ƒé…ç½®

åˆ›å»ºå¹¶é…ç½® `.env` æ–‡ä»¶ï¼š

```env
FLASK_APP=app.py
FLASK_ENV=development
SECRET_KEY=your-secret-key-here
REDIS_HOST=localhost
REDIS_PORT=6379
DATABASE_URL=sqlite:///instance/site.db
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
flask db init
flask db migrate
flask db upgrade
```

### 5. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘ç¯å¢ƒ
flask run

# ç”Ÿäº§ç¯å¢ƒ
gunicorn -k geventwebsocket.gunicorn.workers.GeventWebSocketWorker -w 1 app:app
```

è®¿é—® http://localhost:5000 å¼€å§‹ä½¿ç”¨

## é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€ app.py              # åº”ç”¨å…¥å£å’Œè·¯ç”±é…ç½®
â”œâ”€ database.py         # æ•°æ®åº“æ¨¡å‹å’Œé…ç½®
â”œâ”€ chat/               # èŠå¤©åŠŸèƒ½æ¨¡å—
â”‚  â””â”€ websocket_manager.py  # WebSocket ç®¡ç†å™¨
â”œâ”€ config/             # é…ç½®æ–‡ä»¶ç›®å½•
â”‚  â””â”€ redis_config.py  # Redis é…ç½®
â”œâ”€ static/             # é™æ€èµ„æº
â”‚  â”œâ”€ css/            # æ ·å¼æ–‡ä»¶
â”‚  â”‚  â”œâ”€ chatroom.css   # èŠå¤©å®¤æ ·å¼
â”‚  â”‚  â”œâ”€ homepage.css   # ä¸»é¡µæ ·å¼
â”‚  â”‚  â”œâ”€ profile.css    # ä¸ªäººèµ„æ–™æ ·å¼
â”‚  â”‚  â””â”€ style.css      # é€šç”¨æ ·å¼
â”‚  â”œâ”€ js/             # JavaScript æ–‡ä»¶
â”‚  â”‚  â”œâ”€ chatroom.js    # èŠå¤©å®¤é€»è¾‘
â”‚  â”‚  â”œâ”€ homepage.js    # ä¸»é¡µäº¤äº’
â”‚  â”‚  â””â”€ profile.js     # ä¸ªäººèµ„æ–™ç®¡ç†
â”‚  â””â”€ image/          # å›¾ç‰‡èµ„æº
â”œâ”€ templates/          # HTML æ¨¡æ¿
â”‚  â”œâ”€ base.html         # åŸºç¡€æ¨¡æ¿
â”‚  â”œâ”€ chat.html         # èŠå¤©é¡µé¢
â”‚  â”œâ”€ homepage.html     # ä¸»é¡µ
â”‚  â””â”€ profile.html      # ä¸ªäººèµ„æ–™é¡µ
â””â”€ utils.py           # å·¥å…·å‡½æ•°
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. å®æ—¶èŠå¤©
- ç§èŠå’Œç¾¤èŠæ”¯æŒ
- æ¶ˆæ¯å®æ—¶æ¨é€
- åœ¨çº¿çŠ¶æ€æ˜¾ç¤º
- æ¶ˆæ¯å†å²è®°å½•
- æ–‡ä»¶ä¼ è¾“åŠŸèƒ½

### 2. ç”¨æˆ·ç³»ç»Ÿ
- é‚®ç®±/æ‰‹æœºå·æ³¨å†Œ
- JWT èº«ä»½è®¤è¯
- ä¸ªäººèµ„æ–™ç®¡ç†
- å¤´åƒä¸Šä¼ 
- å¥½å‹å…³ç³»ç®¡ç†

### 3. ç¤¾äº¤åŠŸèƒ½
- å‘å¸ƒåŠ¨æ€
- è¯„è®ºä¸ç‚¹èµ
- å†…å®¹åˆ†äº«
- ç”¨æˆ·å…³æ³¨
- æ¶ˆæ¯é€šçŸ¥

## API æ¥å£

### ç”¨æˆ·ç›¸å…³
| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| /api/auth/register | POST | ç”¨æˆ·æ³¨å†Œ |
| /api/auth/login | POST | ç”¨æˆ·ç™»å½• |
| /api/user/profile | GET/PUT | è·å–/æ›´æ–°ç”¨æˆ·èµ„æ–™ |

### èŠå¤©ç›¸å…³
| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| /ws/chat | WebSocket | èŠå¤©è¿æ¥ |
| /api/chat/history | GET | è·å–èŠå¤©å†å² |
| /api/chat/rooms | GET | è·å–èŠå¤©å®¤åˆ—è¡¨ |

### ç¤¾äº¤ç›¸å…³
| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| /api/posts | GET/POST | è·å–/å‘å¸ƒåŠ¨æ€ |
| /api/comments | GET/POST | è¯„è®ºç®¡ç† |
| /api/likes | POST | ç‚¹èµåŠŸèƒ½ |

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- éµå¾ª PEP 8 ç¼–ç è§„èŒƒ
- ä½¿ç”¨ Python ç±»å‹æ³¨è§£
- ç¼–å†™è¯¦ç»†çš„å‡½æ•°æ–‡æ¡£
- ä¿æŒä»£ç ç®€æ´æ¸…æ™°

### Git æäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤é—®é¢˜
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
```

## éƒ¨ç½²æŒ‡å—

### 1. æœåŠ¡å™¨è¦æ±‚
- Linux æœåŠ¡å™¨ï¼ˆæ¨è Ubuntu 20.04+ï¼‰
- Python 3.8+
- Redis æœåŠ¡
- Nginx æœåŠ¡å™¨

### 2. éƒ¨ç½²æ­¥éª¤
1. é…ç½® Python è™šæ‹Ÿç¯å¢ƒ
2. å®‰è£…é¡¹ç›®ä¾èµ–
3. é…ç½® Nginx åå‘ä»£ç†
4. ä½¿ç”¨ Supervisor ç®¡ç†è¿›ç¨‹
5. é…ç½® SSL è¯ä¹¦ï¼ˆæ¨èï¼‰

### 3. ç›‘æ§å’Œç»´æŠ¤
- ä½¿ç”¨ Supervisor ç›‘æ§è¿›ç¨‹
- é…ç½®æ—¥å¿—è®°å½•
- å®šæœŸæ•°æ®å¤‡ä»½
- æ€§èƒ½ç›‘æ§

## æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest test/test_chat.py
```

## å¸¸è§é—®é¢˜

1. WebSocket è¿æ¥å¤±è´¥
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - ç¡®è®¤ Redis æœåŠ¡çŠ¶æ€
   - éªŒè¯å®¢æˆ·ç«¯ WebSocket æ”¯æŒ

2. æ•°æ®åº“è¿æ¥é—®é¢˜
   - æ£€æŸ¥æ•°æ®åº“é…ç½®
   - ç¡®è®¤æ•°æ®åº“æƒé™
   - éªŒè¯è¿æ¥å­—ç¬¦ä¸²

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-03)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€èŠå¤©åŠŸèƒ½
- ç”¨æˆ·ç³»ç»Ÿå®ç°
- ç¤¾äº¤åŠŸèƒ½ä¸Šçº¿

## ç»´æŠ¤è€…

- å¼€å‘å›¢é˜Ÿï¼šWeb3 Social Team
- è”ç³»é‚®ç®±ï¼šcontact@web3social.com
- é¡¹ç›®ä»“åº“ï¼š[GitHub åœ°å€]

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶
